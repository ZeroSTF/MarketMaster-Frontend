<!-- Desktop Sidebar -->
<div *ngIf="!isMobile"
  class="h-full flex flex-col bg-white mx-2 my-2 shadow-lg rounded-3xl px-4 pt-4 pb-16 transition-all duration-500 ease-in-out"
  [ngClass]="{ 
       'w-64 opacity-100': !hidden, 
       'w-16 opacity-0': hidden 
     }" [ngStyle]="{ 'overflow': hidden ? 'hidden' : 'visible' }">

  <!-- Sidebar Header -->
  <div class="flex flex-col items-center text-center mb-8 relative">
    <img class="w-full h-28 object-cover rounded-t-lg" alt="Background" src="images/SideHEader.png">
    <img class="w-20 h-20 absolute left-1/2 transform -translate-x-1/2 -bottom-10 
                 rounded-full object-cover border-4 border-white" alt="Avatar" src="images/SidebarAvatar.png">
  </div>

  <!-- Welcome and Name Section -->
  <div class="text-center mt-2">
    <b *ngIf="!hidden" class="text-3xl text-gray-700 font-semibold">Welcome Back</b>
    <p *ngIf="!hidden" class="text-xl text-gray-800 mt-2 font-light">{{authService.currentUser()?.username}}</p>
  </div>

  <!-- Sidebar Toggle Button -->


  <!-- Sidebar Links -->
  <!-- Sidebar Links (Desktop Version) -->
  <nav class="flex-grow flex flex-col mt-2">
    <ul class="space-y-4 w-full">
      <li *ngFor="let btn of sidebarButtons" [routerLink]="btn.link" class="group flex items-center justify-between w-full py-2 px-0 rounded-xl cursor-pointer 
               transition-all duration-300 ease-in-out
               hover:shadow-lg " (click)="clickSideButton(btn.name)">

        <!-- Icon and Label -->
        <div class="flex items-center gap-4">
          <span class="material-icons text-2xl group-hover:text-blue-500" [ngClass]="{ 'text-blue-500': selectedButton === btn.name, 
                     'text-gray-400': selectedButton !== btn.name }">
            {{ btn.icon }}
          </span>

          <span class="text-base font-medium leading-6 group-hover:text-blue-500" [ngClass]="{ 'text-blue-500': selectedButton === btn.name, 
                           'text-gray-700': selectedButton !== btn.name }">
            {{ btn.label }}
          </span>
        </div>
      </li>
    </ul>
  </nav>

</div>


<!-- Mobile Bottom Bar -->
<div *ngIf="isMobile" class="fixed bottom-0 left-0 right-0 bg-white shadow-md p-2 flex justify-around z-50">
  <button *ngFor="let btn of sidebarButtons" [routerLink]="btn.link" (click)="clickSideButton(btn.name)"
    class="flex flex-col items-center text-gray-400 hover:text-blue-500">
    <span class="material-icons text-2xl">{{ btn.icon }}</span>
  </button>
</div>